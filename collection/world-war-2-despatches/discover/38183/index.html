
<!DOCTYPE html>
<html lang="en">
    <head>

    
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
        <meta name="author" content="Tanya Gray, Symantix Ltd." />

    <meta name="description" content="World War 2 Despatches | Issue 38183 | Operations in the Far East from 17 October 1940 to 27 December 1941  | Unlocking The Past" />
     
    
        <!-- Latest compiled and minified CSS -->
        <script src="https://cdn.jsdelivr.net/npm/tify@0.31.0/dist/tify.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        
       
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tify@0.31.0/dist/tify.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700"  type="text/css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700"  type="text/css" />
        <link rel="stylesheet" href="/css/styles.css"  />
        <link rel="stylesheet" href="/css/pdf.css"  />

        
  

         <!-- Latest compiled and minified JavaScript 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
        
         <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
        -->

        <script src="/js/scripts.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" type="text/css"/>
<script src= "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>


        




        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "ItemList",
                "name": "World War 2 Despatches",
                "itemListElement": [
                    {
                        "@type": "CreativeWork",
                        "name": "Operations in the Far East from 17 October 1940 to 27 December 1941 ",
                        "datePublished": "1948-01-20T00:00:00T00:00:00",
                        "url": "https://unlockingthepast.com/collection/world-war-2-despatches/discover/38183/index.html"
                    }
                ]  
            }
        </script>
        
        <title>World War 2 Despatches | Issue 38183 | Operations in the Far East from 17 October 1940 to 27 December 1941  | Unlocking The Past</title>
        
       
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top"><h1><img src="/assets/img/unlock.png" />Unlocking The Past</h1></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars ms-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/#collections">Collections</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#signup">Sign Up Today</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <br /> <br /><br /><br /> <br /><br />
            <div class="container">
                <nav class="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item"><a href="../">World War 2 Despatches</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Issue 38183</li>
                    </ol>
                </nav>
           
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">World War 2 Despatches - Issue 38183</h2>
                    <h3 class="section-subheading text-muted">Operations in the Far East from 17 October 1940 to 27 December 1941 </h3>
                </div>
               <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <nav class="tify-header-column -pagination" aria-label="Page">
                        <div class="tify-header-button-group -page-select">
                            <div class="tify-page-select"><button type="button" class="tify-page-select-button"
                                    aria-expanded="false">
                                    <span>Page: <span id="page_num"></span> / <span id="page_count"></span></span>
                            </div>
                        </div>

                        <div><button type="button" class="tify-header-button" title="First page" id="first"><svg
                                    class="tify-icon" viewBox="0 0 24 24">
                                    <path
                                        d="M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z">
                                    </path>
                                </svg></button><!----><button type="button" class="tify-header-button"
                                title="Previous page" id="prev"><svg class="tify-icon" viewBox="0 0 24 24">
                                    <path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z">
                                    </path>
                                </svg></button><button type="button" class="tify-header-button" title="Next page"
                                id="next"><svg class="tify-icon" viewBox="0 0 24 24">
                                    <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z">
                                    </path>
                                </svg></button><!----><button type="button" class="tify-header-button" title="Last page"
                                id="last"><svg class="tify-icon" viewBox="0 0 24 24">
                                    <path d="M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z">
                                    </path>
                                </svg></button></div>
                    </nav>
                </div>

            </div>
            <div class="row">
                <div class="col-md-3">
                <div  id="named_entities">
</div>
<div>
                <textarea id="text-container">
                </textarea>
                </div>
                </div>
            <div class="col-md-6">
                    <canvas id="pdf-canvas"></canvas>
            </div>
            </div>
        </div>
        </div>



        <!-- Footer-->
        
<footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Symantix Limited 2025</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                        <a class="btn btn-dark btn-social mx-2" href="https://www.linkedin.com/company/unlocking-the-past" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <a class="link-dark text-decoration-none me-3" href="/#privacy">Privacy Policy</a>
                        <a class="link-dark text-decoration-none" href="/#terms">Terms of Use</a>
                    </div>
                </div>
            </div>
        </footer>

        
       
            <script type="module" language="JavaScript">

        function getPageNumberFromHash(){
            var hash = window.location.hash;
            var match = hash.match(/(\d+)/);
            return match ? parseInt(match[1], 10) : 1; // Default to page 1 if no hash
}
            const url = '../../pdf/38183.pdf'; 
           
var pdfDoc = null;
var pageNum = getPageNumberFromHash();  // Set initial page from hash
var pageRendering = false;
var pageNumPending = null;
var scale = 2;
var canvas = document.getElementById('pdf-canvas');
var ctx = canvas.getContext('2d');

function renderPage(pageNum) {
    pageRendering = true;

    // Using promise to fetch the page
    pdfDoc.getPage(pageNum).then(function (page) {
        var viewport = page.getViewport({scale: scale});
        canvas.height = viewport.height;
        canvas.width = viewport.width;

        // Render PDF page into canvas context
        var renderContext = {
            canvasContext: ctx,
            viewport: viewport
        };
        var renderTask = page.render(renderContext);

        // Wait for rendering to finish
        renderTask.promise.then(function () {
            pageRendering = false;
            if (pageNumPending !== null) {
                // New page rendering is pending
                renderPage(pageNumPending);
                pageNumPending = null;
            }
        });
    });

    // Update page counters
    document.getElementById('page_num').textContent = pageNum;

    // Fetch the OCR text and JSON data for the page
    var ocr_text = "../../ocr/38183/page_" + pageNum + "_v1.txt";
    fetch(ocr_text)
        .then(response => response.text())
        .then(data => {
            document.getElementById("text-container").innerHTML =  data ;
        })
        .catch(error => console.error("Error loading the file:", error));

    fetch("../../index/38183/page_" + pageNum + ".json")
        .then(response => response.json())
        .then(data => displayData(data))
        .catch(error => console.error("Error loading JSON:", error));
}

/**
 * If another page rendering in progress, waits until the rendering is finished. Otherwise, executes rendering immediately.
 */
function queueRenderPage(num) {
    if (pageRendering) {
        pageNumPending = num;
    } else {
        renderPage(num);
    }
}

/**
 * Function to go to a specific page (e.g., from a URL parameter)
 */
function goToPage(pageNum) {
    if (pageNum > 0 && pageNum <= pdfDoc.numPages) {
        renderPage(pageNum);
    }
}

/**
 * Handle navigation buttons
 */
document.getElementById('first').addEventListener('click', function () {
    pageNum = 1;
    queueRenderPage(1);
});

document.getElementById('last').addEventListener('click', function () {
    pageNum = pdfDoc.numPages;
    queueRenderPage(pageNum);
});

document.getElementById('prev').addEventListener('click', function () {
    pageNum = parseInt(document.getElementById('page_num').textContent);
    if (pageNum <= 1) return;
    pageNum--;
    queueRenderPage(pageNum);
});

document.getElementById('next').addEventListener('click', function () {
    pageNum = parseInt(document.getElementById('page_num').textContent);
    if (pageNum >= pdfDoc.numPages) return;
    pageNum++;
    queueRenderPage(pageNum);
});

/**
 * Asynchronously download and load the PDF
 */
pdfjsLib.getDocument(url).promise.then(function (pdfDoc_) {
    pdfDoc = pdfDoc_;
    document.getElementById('page_count').textContent = pdfDoc.numPages;

    // Render the initial page based on the hash
    renderPage(pageNum);
});

/**
 * Event listener to detect hash changes (navigate between pages via the URL hash)
 */
window.addEventListener('hashchange', function () {
    const pageNum = getPageNumberFromHash();  // Get the page number from the updated hash
    document.getElementById('page_num').textContent = pageNum;
    if (!isNaN(pageNum)) renderPage(pageNum);  // Render the page based on hash
});

/**
 * On page load, check if there's a hash and load the corresponding page.
 */
document.addEventListener("DOMContentLoaded", function () {
    const pageNum = getPageNumberFromHash();  // Extract page number from hash when the page loads
    document.getElementById('page_num').textContent = pageNum;

    // Render the page based on the initial hash value
    renderPage(pageNum);
    
    // Fetch OCR text and JSON data for the page
    fetch("../../ocr/38183/page_" + pageNum + ".txt")
        .then(response => response.text())
        .then(data => {
            document.getElementById("text-container").innerHTML = "<pre>" + data + "</pre>";
        })
        .catch(error => console.error("Error loading the file:", error));

    fetch("../../index/38183/page_" + pageNum + ".json")
        .then(response => response.json())
        .then(data => displayData(data))
        .catch(error => console.error("Error loading JSON:", error));
});

/**
 * Function to display the data from JSON (e.g., named entities, themes, etc.)
 */
function displayData(data) {
    const container = document.getElementById("named_entities");
    container.innerHTML = "";

    function createList(title, items) {
        let sortedItems = Array.isArray(items) ? [...items].sort() : Object.values(items).sort();

        let section = document.createElement("div");
        section.innerHTML = `<h3>${title}</h3><ul>` +
            Object.values(sortedItems).map(item => `<li>${item}</li>`).join("") + "</ul>";
        container.appendChild(section);
    }

     function createListLinked(title, items) {
        let sortedItems = Array.isArray(items) ? [...items].sort() : Object.values(items).sort();

        let section = document.createElement("div");
        section.innerHTML = `<h3>${title}</h3><ul>` +
            Object.values(sortedItems).map(item => `<li><a href="../../id/${item.toLowerCase().replace(/\s/g, "_").replace(/[^a-z0-9_-]/g, '')}">${item}</a></li>`).join("") + "</ul>";
        container.appendChild(section);
    }

    createListLinked("Themes", data.themes);
    createListLinked("Keywords", data.keywords);
    createListLinked("Events", data.namedEntities.events);
    createListLinked("Persons", data.namedEntities.persons);
    createListLinked("Organisations", data.namedEntities.organisations);
    createListLinked("Locations", data.namedEntities.locations);
}
        </script>
    </body>
</html>
